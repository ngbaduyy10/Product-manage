extends ../../layout/layoutDefault.pug

block content
    section
        .container.py-3
            .row.d-flex.justify-content-center.mb-3
                .col-md-10.col-lg-8.col-xl-6
                    include ../../partials/friendButton.pug
            .row.d-flex.justify-content-center
                .col-md-10.col-lg-8.col-xl-6
                    #chat2.card(my-id=user.id)
                        .card-header.d-flex.justify-content-between.align-items-center.p-3
                            h5.mb-0 Chat
                            button.btn.btn-primary.btn-sm(type='button') Let&apos;s Chat App
                        .card-body(style='position: relative; height: 550px')
                            each chat in chats
                                if (user.id !== chat.user_id)
                                    .in-coming.d-flex.flex-row.justify-content-start.mb-3
                                        img(src='https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava4-bg.webp', alt='avatar 1', style='width: 45px; height: 100%;')
                                        div
                                            p.small.ms-2.mb-1.rounded-3.text-muted #{chat.userName}
                                            if (chat.message)
                                                p.small.p-2.ms-2.mb-1.rounded-3(style='background: #ecebeb') #{chat.message}
                                            if (chat.images)
                                                each image in chat.images
                                                    img.p-1.ms-2.mb-1.rounded-3(src=image, alt='image', style='width: 100px; height: auto; background: #ecebeb;')
                                else
                                    .out-going.d-flex.flex-row.justify-content-end.mb-3
                                        div
                                            if (chat.message)
                                                p.small.p-2.me-2.mb-1.text-white.rounded-3.bg-primary #{chat.message}
                                            if (chat.images)
                                                each image in chat.images
                                                    img.p-1.me-2.mb-1.text-white.rounded-3(src=image, alt='image', style='width: 100px; height: auto; background: #ecebeb;')
                                        img(src='https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3-bg.webp', alt='avatar 1', style='width: 45px; height: 100%;')
                            .box-typing
                            .preview-images
                                div(class="custom-file-container" data-upload-id="upload-image")
                        .card-footer.text-muted.d-flex.justify-content-start.align-items-center.p-3
                            img(src='https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3-bg.webp', alt='avatar 3', style='width: 40px; height: 100%;')
                            form.inner-form.d-flex.w-100
                                input.form-control.mx-2(type='text', placeholder='Type message')
                                span.d-flex.align-items-center.button-image(style='padding: 1px 6px; color: #007bff')
                                    i.fa.fa-image(style='font-size: 1.3rem;')
                                span.d-flex.align-items-center.button-icon(style='padding: 1px 6px; color: #007bff')
                                    i.fa.fa-pencil(style='font-size: 1.3rem;')
                                button(type='submit' style='border: none; background: none; color: #007bff;')
                                    i.fa.fa-paper-plane(style='font-size: 1.3rem;')

    .tooltip(role='tooltip')
        emoji-picker(class='light')

block script
    script(type="module" src="/client/js/chat.js")