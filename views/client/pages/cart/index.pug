extends ../../layout/layoutDefault.pug
include ../../../mixins/alert.pug

block content
    +alert-success

    if (cart.cartItems.length > 0)
        .container.my-4
            h1.mb-5 Cart
            table.table.table-bordered
                thead
                    tr.text-center
                        th(style='width: 5%') No
                        th(style='width: 5%') Image
                        th(style='width: 20%') Product
                        th(style='width: 10%') Price
                        th(style='width: 5%') Quantity
                        th(style='width: 10%') Total
                        th(style='width: 10%') Action
                tbody
                    each item, index in products
                        tr
                            td #{index + 1}
                            td
                                img(src=item.productDetail.thumbnail alt=`${item.productDetail.title}` style='width: 100%')
                            td #{item.productDetail.title}
                            td #{item.productDetail.price}$
                            td
                                input.form-control(style='width: 100%' input-quantity=item.productDetail.id name='quantity' type='number' value=`${item.quantity}` min='1' max='10')
                            td #{item.productDetail.price * item.quantity}$
                            td
                                a.btn.btn-danger(href=`/cart/delete/${item.productDetail.id}`) Remove
                tfoot
                    tr
                        td(colspan='4')
                            h3 Total
                        td
                            span <b>#{cart.totalQuantity}</b>
                        td
                            h3 #{totalPrice}$
                        td
                            a.btn.btn-danger(href=`#`) Remove all
    else
        .container.my-4
            h3 Your cart is empty

    script(src='/client/js/cart.js')